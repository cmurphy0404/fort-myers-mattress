---
import { siteConfig } from '../config';

const socialLinks = Object.values(siteConfig.socials).filter(Boolean);

// Extended area served - 75 mile radius from Fort Myers
const extendedAreaServed = [
  ...siteConfig.areaServed,
  'Punta Gorda',
  'Port Charlotte',
  'Marco Island',
  'Sanibel',
  'Captiva',
  'Immokalee',
  'Ave Maria',
  'Golden Gate',
  'North Fort Myers',
  'Pine Island',
  'Labelle',
  'Clewiston',
  'Arcadia',
  'Englewood',
  'Venice',
  'Sarasota',
  'Bradenton',
  'North Naples',
  'Collier County',
  'Lee County',
  'Charlotte County',
];

const localBusinessSchema = {
  '@context': 'https://schema.org',
  '@type': ['LocalBusiness', 'FurnitureStore'],
  '@id': `${siteConfig.siteUrl}/#business`,
  name: siteConfig.businessName,
  alternateName: 'Fort Myers Mattress',
  description: 'Private, by-appointment mattress shopping in Fort Myers, Florida. Part of the Mattress by Appointment family. One-on-one consultations with straightforward warehouse-direct pricing on quality mattresses.',
  url: siteConfig.siteUrl,
  telephone: siteConfig.phone,
  email: siteConfig.email,
  address: {
    '@type': 'PostalAddress',
    streetAddress: siteConfig.address.street,
    addressLocality: siteConfig.address.city,
    addressRegion: siteConfig.address.state,
    postalCode: siteConfig.address.zip,
    addressCountry: 'US',
  },
  geo: {
    '@type': 'GeoCoordinates',
    latitude: 26.5975,
    longitude: -81.871,
  },
  areaServed: [
    // 75 mile radius GeoCircle
    {
      '@type': 'GeoCircle',
      geoMidpoint: {
        '@type': 'GeoCoordinates',
        latitude: 26.5975,
        longitude: -81.871,
      },
      geoRadius: '120700', // 75 miles in meters
    },
    // Named cities
    ...extendedAreaServed.map((area) => ({
      '@type': 'City',
      name: area,
      addressRegion: 'FL',
      addressCountry: 'US',
    })),
  ],
  priceRange: '$$',
  image: `${siteConfig.siteUrl}/images/MBA-MainHorizontalLogo-Red_Gray.png`,
  logo: `${siteConfig.siteUrl}/images/MBA-MainHorizontalLogo-Red_Gray.png`,
  sameAs: socialLinks.length > 0 ? socialLinks : undefined,
  openingHoursSpecification: {
    '@type': 'OpeningHoursSpecification',
    description: 'By Appointment Only',
    dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
  },
  hasOfferCatalog: {
    '@type': 'OfferCatalog',
    name: 'Mattresses',
    itemListElement: [
      { '@type': 'Offer', itemOffered: { '@type': 'Product', name: 'Memory Foam Mattresses' } },
      { '@type': 'Offer', itemOffered: { '@type': 'Product', name: 'Hybrid Mattresses' } },
      { '@type': 'Offer', itemOffered: { '@type': 'Product', name: 'Pillow Top Mattresses' } },
      { '@type': 'Offer', itemOffered: { '@type': 'Product', name: 'Adjustable Bases' } },
    ],
  },
  keywords: 'mattress store Fort Myers, mattress by appointment, mattress shop Cape Coral, mattress store Naples FL, mattress showroom Southwest Florida, buy mattress Fort Myers, mattress near me, memory foam mattress Fort Myers, hybrid mattress Cape Coral',
};

const webSiteSchema = {
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  '@id': `${siteConfig.siteUrl}/#website`,
  url: siteConfig.siteUrl,
  name: siteConfig.businessName,
  publisher: {
    '@id': `${siteConfig.siteUrl}/#business`,
  },
  potentialAction: {
    '@type': 'SearchAction',
    target: `${siteConfig.siteUrl}/?s={search_term_string}`,
    'query-input': 'required name=search_term_string',
  },
};

// FAQ Schema for common questions
const faqSchema = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: [
    {
      '@type': 'Question',
      name: 'How do appointments work at Fort Myers Mattress?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: `Simply call us at ${siteConfig.phone} or fill out our online form to request a time. We'll confirm your appointment and you'll have the showroom to yourself for a private, pressure-free shopping experience.`,
      },
    },
    {
      '@type': 'Question',
      name: 'How much can I save at Fort Myers Mattress?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Our customers typically save 50-80% off retail store prices. We keep costs low by operating by appointment only with minimal overhead.',
      },
    },
    {
      '@type': 'Question',
      name: 'Do you offer financing or payment plans?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Yes! We offer no credit needed payment plans with only $20 down. Ask us about financing options during your appointment.',
      },
    },
    {
      '@type': 'Question',
      name: 'Do you offer same day delivery?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Yes, we offer same day delivery in the Fort Myers and Southwest Florida area. If we have your chosen mattress in stock, same-day pickup is often available too.',
      },
    },
    {
      '@type': 'Question',
      name: 'What brands do you carry?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'We carry trusted brands including Tempur, Diamond, and other quality mattress manufacturers. We stock memory foam, hybrid, pillow-top, and adjustable bases.',
      },
    },
  ],
};
---

<script type="application/ld+json" set:html={JSON.stringify(localBusinessSchema)} />
<script type="application/ld+json" set:html={JSON.stringify(webSiteSchema)} />
<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
