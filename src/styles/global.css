@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fonts - Include in your HTML head */
/* <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@500;600;700&display=swap" rel="stylesheet"> */

@layer base {
  :root {
    /* MBA Brand Colors */
    --color-brand-primary: #8B2635;
    --color-brand-secondary: #CC403F;
    --color-brand-accent: #E97C7F;
    --color-brand-dark: #5C1A23;

    /* Neutrals */
    --color-bg-warm: #FAF9F7;
    --color-text-primary: #2D2926;
    --color-text-secondary: #6B6560;

    /* Safe area insets for notched devices (iPhone X+, Android with punch-hole) */
    --safe-area-inset-top: env(safe-area-inset-top, 0px);
    --safe-area-inset-right: env(safe-area-inset-right, 0px);
    --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-inset-left: env(safe-area-inset-left, 0px);
  }

  html {
    scroll-behavior: smooth;
    /* Prevent iOS text size adjustment on orientation change */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  body {
    @apply bg-neutral-warm text-slate-dark antialiased;
    font-feature-settings: 'ss01' 1, 'cv01' 1;
    /* Prevent pull-to-refresh on mobile when not needed */
    overscroll-behavior-y: contain;
    /* Improve tap highlighting on mobile */
    -webkit-tap-highlight-color: rgba(139, 38, 53, 0.1);
  }

  h1, h2, h3, h4 {
    @apply font-display;
  }

  /* Improve touch targets - minimum 44x44px as per Apple/Google guidelines */
  a, button, input, select, textarea {
    min-height: 44px;
    min-width: 44px;
  }

  /* Exception for inline links in text */
  p a, li a, span a {
    min-height: auto;
    min-width: auto;
  }

  /* Prevent text selection on buttons for better mobile UX */
  button {
    -webkit-user-select: none;
    user-select: none;
  }

  /* Better focus states for mobile accessibility */
  :focus-visible {
    outline: 2px solid var(--color-brand-primary);
    outline-offset: 2px;
  }

  /* Remove default focus outline, use focus-visible instead */
  :focus:not(:focus-visible) {
    outline: none;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-brand-600 text-white font-semibold rounded-lg 
           hover:bg-brand-700 transition-all duration-200 
           focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2
           shadow-soft hover:shadow-medium;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-white text-brand-600 font-semibold rounded-lg 
           border-2 border-brand-600 
           hover:bg-brand-600 hover:text-white transition-all duration-200 
           focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2;
  }

  .btn-call {
    @apply inline-flex items-center justify-center px-4 py-2 bg-cta-call text-white font-medium rounded-lg 
           hover:bg-cta-call-hover transition-colors duration-200
           shadow-soft hover:shadow-medium;
  }

  .btn-text {
    @apply inline-flex items-center justify-center px-4 py-2 bg-brand-600 text-white font-medium rounded-lg 
           hover:bg-brand-700 transition-colors duration-200;
  }

  /* Accent buttons using coral */
  .btn-accent {
    @apply inline-flex items-center justify-center px-6 py-3 bg-accent-coral text-white font-semibold rounded-lg 
           hover:bg-brand-500 transition-all duration-200;
  }

  .section-padding {
    @apply py-16 md:py-20 lg:py-24;
  }

  .container-narrow {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .container-wide {
    @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Brand gradient text */
  .text-brand-gradient {
    @apply bg-clip-text text-transparent bg-brand-gradient;
  }

  /* Warm section background */
  .bg-warm-section {
    @apply bg-gradient-to-br from-neutral-warm to-neutral-stone;
  }

  /* Safe area padding for fixed elements */
  .safe-area-top {
    padding-top: var(--safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: var(--safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: var(--safe-area-inset-right);
  }

  .safe-area-x {
    padding-left: var(--safe-area-inset-left);
    padding-right: var(--safe-area-inset-right);
  }

  .safe-area-y {
    padding-top: var(--safe-area-inset-top);
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .safe-area-all {
    padding: var(--safe-area-inset-top) var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left);
  }
}

/* Mobile-specific optimizations */
@layer utilities {
  /* Touch-friendly spacing for mobile */
  @media (max-width: 640px) {
    .touch-spacing {
      @apply py-3 px-4;
    }
  }

  /* Prevent horizontal scroll on mobile */
  .no-horizontal-scroll {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Smooth momentum scrolling for iOS */
  .scroll-smooth-ios {
    -webkit-overflow-scrolling: touch;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Active state for touch devices */
  @media (hover: none) and (pointer: coarse) {
    .touch-active:active {
      transform: scale(0.98);
      opacity: 0.9;
    }
  }
}

/* iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
  /* Fix for 100vh on iOS Safari */
  .min-h-screen-ios {
    min-height: -webkit-fill-available;
  }

  /* Prevent iOS zoom on form inputs */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="number"],
  input[type="date"],
  input[type="time"],
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* Android-specific optimizations */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  /* Smoother animations on Android */
  .android-smooth {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}

/* High DPI displays (Retina, etc.) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Sharper borders on high DPI */
  .border-sharp {
    border-width: 0.5px;
  }
}

/* Reduced motion preference for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Dark mode support (if user prefers) */
@media (prefers-color-scheme: dark) {
  /* Optional: Add dark mode styles here if needed in the future */
}

